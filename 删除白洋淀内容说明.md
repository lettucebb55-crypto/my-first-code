# 删除白洋淀内容说明

## 已完成的工作

已从代码中删除所有与"白洋淀"相关的内容，包括：

### 1. 景点数据
- ✅ `apps/scenic/management/commands/init_sample_data.py` - 删除了白洋淀景点数据

### 2. 路线数据
- ✅ `apps/routes/management/commands/init_route_data.py` - 删除了"白洋淀1日休闲游"路线
- ✅ `apps/routes/management/commands/init_sample_data.py` - 删除了"白洋淀1日休闲游"路线
- ✅ 将亲子游路线中的"白洋淀"替换为"野三坡"

### 3. 酒店数据
- ✅ `apps/hotels/management/commands/init_hotel_data.py` - 删除了"白洋淀度假酒店"

### 4. 新闻资讯
- ✅ `apps/news/management/commands/init_news_data.py` - 删除了白洋淀相关新闻
- ✅ 将"保定三日游攻略"中的白洋淀替换为野三坡
- ✅ 将"白洋淀景区国庆新闻"替换为"野三坡景区国庆新闻"
- ✅ 将"白洋淀最佳旅游时间"替换为"野三坡最佳旅游时间"

### 5. 前端模板
- ✅ `templates/index/index.html` - 删除了首页轮播图中的白洋淀
- ✅ `templates/user/favorites.html` - 将示例中的白洋淀替换为直隶总督署

### 6. API示例数据
- ✅ `apps/scenic/api.py` - 将示例数据中的白洋淀替换为直隶总督署
- ✅ `apps/routes/api.py` - 将示例数据中的白洋淀替换为野三坡

### 7. 管理命令
- ✅ `apps/scenic/management/commands/update_hot_scenic_images.py` - 删除了白洋淀图片更新配置

---

## 需要手动处理的事项

### 1. 数据库中的数据

如果数据库中已经有白洋淀相关的数据，需要手动删除：

#### 方法一：通过Django管理后台删除
1. 访问管理后台：`/admin_panel/`
2. 进入"景点管理"，删除名称为"白洋淀"的景点
3. 进入"路线管理"，删除包含"白洋淀"的路线
4. 进入"酒店管理"，删除"白洋淀度假酒店"
5. 进入"资讯发布"，删除白洋淀相关的新闻

#### 方法二：通过Django Shell删除
```python
python manage.py shell

# 删除白洋淀景点
from apps.scenic.models import ScenicSpot
ScenicSpot.objects.filter(name='白洋淀').delete()

# 删除白洋淀相关路线
from apps.routes.models import Route
Route.objects.filter(name__contains='白洋淀').delete()

# 删除白洋淀度假酒店
from apps.hotels.models import Hotel
Hotel.objects.filter(name__contains='白洋淀').delete()

# 删除白洋淀相关新闻
from apps.news.models import News
News.objects.filter(title__contains='白洋淀').delete()
```

### 2. 媒体文件

如果`media/carousel/baiyangdian.jpg`和`media/scenic_covers/baiyangdian1.jpg`等文件存在，可以手动删除：

```bash
# Windows PowerShell
Remove-Item media\carousel\baiyangdian.jpg -ErrorAction SilentlyContinue
Remove-Item media\scenic_covers\baiyangdian1.jpg -ErrorAction SilentlyContinue
```

### 3. 订单数据

如果已有白洋淀相关的订单，建议：
- 保留历史订单数据（订单记录不应随意删除）
- 如果必须删除，可以通过管理后台或数据库操作删除

---

## 验证步骤

1. **检查代码**：已通过grep搜索，确认代码中无"白洋淀"相关内容
2. **检查数据库**：运行以下命令检查数据库中是否还有白洋淀数据
   ```python
   python manage.py shell
   from apps.scenic.models import ScenicSpot
   ScenicSpot.objects.filter(name__contains='白洋淀').count()  # 应该返回0
   ```
3. **测试功能**：重新运行数据初始化命令，确认不会创建白洋淀数据
   ```bash
   python manage.py init_sample_data  # 如果存在此命令
   ```

---

## 注意事项

1. **备份数据**：在删除数据库数据前，建议先备份数据库
2. **关联数据**：删除景点/路线时，注意检查是否有订单、评论等关联数据
3. **图片文件**：删除图片文件是可选的，不影响系统运行

---

**完成时间**：2024年  
**状态**：✅ 代码清理完成

